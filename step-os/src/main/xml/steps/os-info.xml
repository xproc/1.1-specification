<section xmlns="http://docbook.org/ns/docbook" 
         xmlns:e="http://www.w3.org/1999/XSL/Spec/ElementSyntax" 
         xmlns:p="http://www.w3.org/ns/xproc"
         xmlns:xi="http://www.w3.org/2001/XInclude" 
         xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="c.os-info">
<title>p:os-info</title>

<para>The <code>p:os-info</code> step returns information about the
operating system on which the processor is running.</para>

<note role="editorial">
  <title>Editorial Note</title>
  <para>TBD: This is an almost direct port from EXProc. Details might still change.</para>
</note>

<p:declare-step type="p:os-info">
  <p:output port="result" content-types="application/xml"/>
</p:declare-step>

<para>The step returns a <tag>c:result</tag> element with attributes
describing properties of the system. It <rfc2119>should</rfc2119>
include the following properties:</para>

<variablelist>
  <varlistentry>
    <term><tag class="attribute">file-separator</tag></term>
    <listitem>
      <para>The file separator; usually “<code>/</code>” on Unix, “<code>\</code>” on Windows.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">path-separator</tag></term>
    <listitem>
      <para>The path separator; usually “<code>:</code>” on Unix, “<code>;</code>” on Windows.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">os-architecture</tag></term>
    <listitem>
      <para>The operating system architecture, for example “<code>i386</code>”.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">os-name</tag></term>
    <listitem>
      <para>The name of the operating system, for example “<code>Darwin</code>”.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">os-version</tag></term>
    <listitem>
      <para>The version of the operating system, for example “<code>10.5.6</code>”.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">cwd</tag></term>
    <listitem>
      <para>The current working directory. On systems which have no
      concept of a working directory the value of the attribute will
      be empty.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">user-name</tag></term>
    <listitem>
      <para>The login name of the effective user, for example “<code>jsmith</code>”.</para>
    </listitem>
  </varlistentry>
  <varlistentry>
    <term><tag class="attribute">user-home</tag></term>
    <listitem>
      <para>The home directory of the effective user, for example “<code>/home/jsmith</code>”.</para>
    </listitem>
  </varlistentry>
</variablelist>

<para><impl>The exact set of properties returned is
<glossterm>implementation-defined</glossterm>.</impl></para>

<simplesect>
  <title>Document properties</title>
  <para feature="os-info-preserves-none">No document properties are preserved.</para>
</simplesect>

</section>
